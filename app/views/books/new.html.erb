<%= render "shared/header"%>

<div class="post-wrapper">

  <div class="breadcrumb-area">
    <% breadcrumb :book_new, @user %>
    <%= breadcrumbs separator: " &rsaquo; " %>
  </div>

  <%= form_with model: @book, url: books_path, local: true do |f| %>
    
    <div class="post-top-area clearfix">
      <div class="image-area">
        <div id="preview-space"></div>

        <div class="image-field" id="preview_image">
          <%= f.label :book_image, "画像" %><span class="must-icon">*</span><br/>
          <%= f.file_field :book_image %>
        </div>
      </div>

      <div class="info-area">
        <div class="field">
          <%= f.label :title, "タイトル" %><span class="must-icon">*</span><br/>
          <%= f.text_field :title, class:"input-box"%>
        </div>

        <div class="field">
          <%= f.label :author, "著者" %><span class="must-icon">*</span><br/>
          <%= f.text_field :author, class:"input-box"%>
        </div>

        <div class="field">
          <%= f.label :publisher, "出版社" %><br/>
          <%= f.text_field :publisher, class:"input-box"%>
        </div>

        <div class="field">
          <%= f.label :genre_id, "ジャンル" %><span class="must-icon">*</span><br/>
          <%= f.collection_select(:genre_id, Genre.all, :id, :name, { prompt: "--" }, { class:"input-box" }) %>
        </div>

        <div class="field", id='tag-field'>
          <%= f.label :tag_name, "#タグ" %><br/>
          <%= f.text_field :tag_name, class:"input-box"%>
        </div>
      </div>
    </div>

    <div class="post-bottom-area">
      <%= f.label :description %><span class="must-icon">*</span><br/>
      <%= f.text_area :description, class:"text-area" %>
      <div>
        <%= f.submit "投稿する", class:"submit-btn" %>
      </div>
    </div>
  <% end %>

  <%= link_to user_path(current_user.id) do%>
    <div class="post-btn">
      <i class="fas fa-undo post-btn-icon"></i>
      <span class="post-btn-text">キャンセル</span>
    </div>
  <% end %>

</div>